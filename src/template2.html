<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
        <meta name="google" content="notranslate">

        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />

        <meta title="" />
        
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
        <style>
            html,body,#app{height: 100%;}
            body{margin:0;font-size:12px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;padding: 2px 2px;text-transform: uppercase; font-weight: 500;}
            .row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:"";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col[class*=pull-],.row .col[class*=push-]{position:relative}.row .col.s1{width:8.3333333333%}.row .col.s1,.row .col.s2{margin-left:auto;left:auto;right:auto}.row .col.s2{width:16.6666666667%}.row .col.s3{width:25%}.row .col.s3,.row .col.s4{margin-left:auto;left:auto;right:auto}.row .col.s4{width:33.3333333333%}.row .col.s5{width:41.6666666667%}.row .col.s5,.row .col.s6{margin-left:auto;left:auto;right:auto}.row .col.s6{width:50%}.row .col.s7{width:58.3333333333%}.row .col.s7,.row .col.s8{margin-left:auto;left:auto;right:auto}.row .col.s8{width:66.6666666667%}.row .col.s9{width:75%}.row .col.s9,.row .col.s10{margin-left:auto;left:auto;right:auto}.row .col.s10{width:83.3333333333%}.row .col.s11{width:91.6666666667%}.row .col.s11,.row .col.s12{margin-left:auto;left:auto;right:auto}.row .col.s12{width:100%}.row .col.offset-s1{margin-left:8.3333333333%}.row .col.pull-s1{right:8.3333333333%}.row .col.push-s1{left:8.3333333333%}.row .col.offset-s2{margin-left:16.6666666667%}.row .col.pull-s2{right:16.6666666667%}.row .col.push-s2{left:16.6666666667%}.row .col.offset-s3{margin-left:25%}.row .col.pull-s3{right:25%}.row .col.push-s3{left:25%}.row .col.offset-s4{margin-left:33.3333333333%}.row .col.pull-s4{right:33.3333333333%}.row .col.push-s4{left:33.3333333333%}.row .col.offset-s5{margin-left:41.6666666667%}.row .col.pull-s5{right:41.6666666667%}.row .col.push-s5{left:41.6666666667%}.row .col.offset-s6{margin-left:50%}.row .col.pull-s6{right:50%}.row .col.push-s6{left:50%}.row .col.offset-s7{margin-left:58.3333333333%}.row .col.pull-s7{right:58.3333333333%}.row .col.push-s7{left:58.3333333333%}.row .col.offset-s8{margin-left:66.6666666667%}.row .col.pull-s8{right:66.6666666667%}.row .col.push-s8{left:66.6666666667%}.row .col.offset-s9{margin-left:75%}.row .col.pull-s9{right:75%}.row .col.push-s9{left:75%}.row .col.offset-s10{margin-left:83.3333333333%}.row .col.pull-s10{right:83.3333333333%}.row .col.push-s10{left:83.3333333333%}.row .col.offset-s11{margin-left:91.6666666667%}.row .col.pull-s11{right:91.6666666667%}.row .col.push-s11{left:91.6666666667%}.row .col.offset-s12{margin-left:100%}.row .col.pull-s12{right:100%}.row .col.push-s12{left:100%}@media only screen and (min-width:601px){.row .col.m1{width:8.3333333333%}.row .col.m1,.row .col.m2{margin-left:auto;left:auto;right:auto}.row .col.m2{width:16.6666666667%}.row .col.m3{width:25%}.row .col.m3,.row .col.m4{margin-left:auto;left:auto;right:auto}.row .col.m4{width:33.3333333333%}.row .col.m5{width:41.6666666667%}.row .col.m5,.row .col.m6{margin-left:auto;left:auto;right:auto}.row .col.m6{width:50%}.row .col.m7{width:58.3333333333%}.row .col.m7,.row .col.m8{margin-left:auto;left:auto;right:auto}.row .col.m8{width:66.6666666667%}.row .col.m9{width:75%}.row .col.m9,.row .col.m10{margin-left:auto;left:auto;right:auto}.row .col.m10{width:83.3333333333%}.row .col.m11{width:91.6666666667%}.row .col.m11,.row .col.m12{margin-left:auto;left:auto;right:auto}.row .col.m12{width:100%}.row .col.offset-m1{margin-left:8.3333333333%}.row .col.pull-m1{right:8.3333333333%}.row .col.push-m1{left:8.3333333333%}.row .col.offset-m2{margin-left:16.6666666667%}.row .col.pull-m2{right:16.6666666667%}.row .col.push-m2{left:16.6666666667%}.row .col.offset-m3{margin-left:25%}.row .col.pull-m3{right:25%}.row .col.push-m3{left:25%}.row .col.offset-m4{margin-left:33.3333333333%}.row .col.pull-m4{right:33.3333333333%}.row .col.push-m4{left:33.3333333333%}.row .col.offset-m5{margin-left:41.6666666667%}.row .col.pull-m5{right:41.6666666667%}.row .col.push-m5{left:41.6666666667%}.row .col.offset-m6{margin-left:50%}.row .col.pull-m6{right:50%}.row .col.push-m6{left:50%}.row .col.offset-m7{margin-left:58.3333333333%}.row .col.pull-m7{right:58.3333333333%}.row .col.push-m7{left:58.3333333333%}.row .col.offset-m8{margin-left:66.6666666667%}.row .col.pull-m8{right:66.6666666667%}.row .col.push-m8{left:66.6666666667%}.row .col.offset-m9{margin-left:75%}.row .col.pull-m9{right:75%}.row .col.push-m9{left:75%}.row .col.offset-m10{margin-left:83.3333333333%}.row .col.pull-m10{right:83.3333333333%}.row .col.push-m10{left:83.3333333333%}.row .col.offset-m11{margin-left:91.6666666667%}.row .col.pull-m11{right:91.6666666667%}.row .col.push-m11{left:91.6666666667%}.row .col.offset-m12{margin-left:100%}.row .col.pull-m12{right:100%}.row .col.push-m12{left:100%}}@media only screen and (min-width:993px){.row .col.l1{width:8.3333333333%}.row .col.l1,.row .col.l2{margin-left:auto;left:auto;right:auto}.row .col.l2{width:16.6666666667%}.row .col.l3{width:25%}.row .col.l3,.row .col.l4{margin-left:auto;left:auto;right:auto}.row .col.l4{width:33.3333333333%}.row .col.l5{width:41.6666666667%}.row .col.l5,.row .col.l6{margin-left:auto;left:auto;right:auto}.row .col.l6{width:50%}.row .col.l7{width:58.3333333333%}.row .col.l7,.row .col.l8{margin-left:auto;left:auto;right:auto}.row .col.l8{width:66.6666666667%}.row .col.l9{width:75%}.row .col.l9,.row .col.l10{margin-left:auto;left:auto;right:auto}.row .col.l10{width:83.3333333333%}.row .col.l11{width:91.6666666667%}.row .col.l11,.row .col.l12{margin-left:auto;left:auto;right:auto}.row .col.l12{width:100%}.row .col.offset-l1{margin-left:8.3333333333%}.row .col.pull-l1{right:8.3333333333%}.row .col.push-l1{left:8.3333333333%}.row .col.offset-l2{margin-left:16.6666666667%}.row .col.pull-l2{right:16.6666666667%}.row .col.push-l2{left:16.6666666667%}.row .col.offset-l3{margin-left:25%}.row .col.pull-l3{right:25%}.row .col.push-l3{left:25%}.row .col.offset-l4{margin-left:33.3333333333%}.row .col.pull-l4{right:33.3333333333%}.row .col.push-l4{left:33.3333333333%}.row .col.offset-l5{margin-left:41.6666666667%}.row .col.pull-l5{right:41.6666666667%}.row .col.push-l5{left:41.6666666667%}.row .col.offset-l6{margin-left:50%}.row .col.pull-l6{right:50%}.row .col.push-l6{left:50%}.row .col.offset-l7{margin-left:58.3333333333%}.row .col.pull-l7{right:58.3333333333%}.row .col.push-l7{left:58.3333333333%}.row .col.offset-l8{margin-left:66.6666666667%}.row .col.pull-l8{right:66.6666666667%}.row .col.push-l8{left:66.6666666667%}.row .col.offset-l9{margin-left:75%}.row .col.pull-l9{right:75%}.row .col.push-l9{left:75%}.row .col.offset-l10{margin-left:83.3333333333%}.row .col.pull-l10{right:83.3333333333%}.row .col.push-l10{left:83.3333333333%}.row .col.offset-l11{margin-left:91.6666666667%}.row .col.pull-l11{right:91.6666666667%}.row .col.push-l11{left:91.6666666667%}.row .col.offset-l12{margin-left:100%}.row .col.pull-l12{right:100%}.row .col.push-l12{left:100%}}@media only screen and (min-width:1201px){.row .col.xl1{width:8.3333333333%}.row .col.xl1,.row .col.xl2{margin-left:auto;left:auto;right:auto}.row .col.xl2{width:16.6666666667%}.row .col.xl3{width:25%}.row .col.xl3,.row .col.xl4{margin-left:auto;left:auto;right:auto}.row .col.xl4{width:33.3333333333%}.row .col.xl5{width:41.6666666667%}.row .col.xl5,.row .col.xl6{margin-left:auto;left:auto;right:auto}.row .col.xl6{width:50%}.row .col.xl7{width:58.3333333333%}.row .col.xl7,.row .col.xl8{margin-left:auto;left:auto;right:auto}.row .col.xl8{width:66.6666666667%}.row .col.xl9{width:75%}.row .col.xl9,.row .col.xl10{margin-left:auto;left:auto;right:auto}.row .col.xl10{width:83.3333333333%}.row .col.xl11{width:91.6666666667%}.row .col.xl11,.row .col.xl12{margin-left:auto;left:auto;right:auto}.row .col.xl12{width:100%}.row .col.offset-xl1{margin-left:8.3333333333%}.row .col.pull-xl1{right:8.3333333333%}.row .col.push-xl1{left:8.3333333333%}.row .col.offset-xl2{margin-left:16.6666666667%}.row .col.pull-xl2{right:16.6666666667%}.row .col.push-xl2{left:16.6666666667%}.row .col.offset-xl3{margin-left:25%}.row .col.pull-xl3{right:25%}.row .col.push-xl3{left:25%}.row .col.offset-xl4{margin-left:33.3333333333%}.row .col.pull-xl4{right:33.3333333333%}.row .col.push-xl4{left:33.3333333333%}.row .col.offset-xl5{margin-left:41.6666666667%}.row .col.pull-xl5{right:41.6666666667%}.row .col.push-xl5{left:41.6666666667%}.row .col.offset-xl6{margin-left:50%}.row .col.pull-xl6{right:50%}.row .col.push-xl6{left:50%}.row .col.offset-xl7{margin-left:58.3333333333%}.row .col.pull-xl7{right:58.3333333333%}.row .col.push-xl7{left:58.3333333333%}.row .col.offset-xl8{margin-left:66.6666666667%}.row .col.pull-xl8{right:66.6666666667%}.row .col.push-xl8{left:66.6666666667%}.row .col.offset-xl9{margin-left:75%}.row .col.pull-xl9{right:75%}.row .col.push-xl9{left:75%}.row .col.offset-xl10{margin-left:83.3333333333%}.row .col.pull-xl10{right:83.3333333333%}.row .col.push-xl10{left:83.3333333333%}.row .col.offset-xl11{margin-left:91.6666666667%}.row .col.pull-xl11{right:91.6666666667%}.row .col.push-xl11{left:91.6666666667%}.row .col.offset-xl12{margin-left:100%}.row .col.pull-xl12{right:100%}.row .col.push-xl12{left:100%}}
 
            .nm{margin: 0;}
            .txtoverflow {text-overflow: ellipsis;white-space: nowrap;overflow: hidden;}
            .center-align{text-align: center}
            .right-align{text-align: right}
            .right{float: right;}
            .light{font-weight: 300;}
            .ball{background-color: #222;border-radius: 50%;font-size: 10px; font-weight: 500; width: 22px;display: inline-block;height: 22px;color: #fff;text-transform: none;text-align: center;margin-left: 5px;line-height: 14px;}
            .ball div {position: relative;top:4px;}
            .ball span {font-weight: 300;}

            /* .cell {color:#fff;border-radius: 2px;} */
            /* .cell .row .col:first-child {height: 28px;} */
            .box {font-weight: 700;font-size: 12rem;margin-top: 30px;animation: zoom-in-zoom-out 1.5s ease 3 forwards;}
            
            @keyframes zoom-in-zoom-out {
                0% {
                    transform: scale(1, 1);
                }
                50% {
                    transform: scale(1.5, 1.5);
                }
                100% {
                    transform: scale(1, 1);
                    display: none;
                }
            }
        </style>
    </head>
    <body>
        <div id="app">
            <div class="row nm" v-if="cricData.matchEnded">
                <div class="col s12 center-align cell" style="background-color: #000;padding: 10px;color:#fff">
                    <h3>{{cricData.matchEndedStr}}</h3>
                </div>
            </div>
            <div v-else>
                <div v-if="cricData.score" class="row nm" style="height: 33px;">
                    <div class="col s5 cell" style="background-color: #ff5228;color: #fff;padding: 6px 12px;height: 33px;font-size: 110%;">
                        <span class="txtoverflow" style="margin-right: 16px;max-width: 140px;display: inline-block;">{{ cricData.isSecondInning ?  cricData.team2Name :  cricData.team1Name }}</span>
                        <span class="right">{{cricData.score}} ({{cricData.overNum}} Ov)</span>
                    </div>
                    <div class="col s7 cell" style="background-color: #f4f4f4;color: #000;padding-left: 0;padding-right: 0;border-bottom: 0.5px solid #dedede;">
                        <div style="display: inline-block;padding: 8px 0px 8px 12px">
                            <span v-for="(batter, index) in cricData.batters" :key="index" :class="{'nm': index}" style="margin-right: 16px;display: inline-block;">
                                <span class="txtoverflow" style="max-width: 120px;display: inline-block;margin-right: 12px">{{batter.name}}</span>
                                <span class="right">{{batter.score}}</span>
                            </span>
                        </div>
                        <div class="right" v-for="(bowler, index) in cricData.bowlers" :key="index" style="display: inline-block;padding: 8px;">
                            <span style="display: inline-block;">
                                <span class="txtoverflow" style="max-width: 120px;display: inline-block;margin-right: 12px">{{bowler.name}}</span>
                                <span class="right">{{bowler.score}}</span>
                            </span>
                        </div>
                    </div>
                </div>
                <div v-if="cricData.score" class="row nm" style="background-color: #f4f4f4;color: #000;">
                    <div class="col s5" style="padding: 9px 12px;">
                        CRR: {{cricData.crr}} <span v-if="cricData.isSecondInning">| RRR: {{cricData.reqrr}}</span>
                        <span class="right" v-if="cricData.isSecondInning">{{ cricData.matchEndedStr.split(" (")[0] }}</span>
                        
                    </div>
                    <div class="col s7 right-align" style="padding: 2px 12px 8px 12px">
                        <span v-for="(ball, index) in cricData.recentBalls" :key="index" class="ball">
                            <div v-html="ball"></div>
                        </span>
                    </div>
                </div>
            </div>
            <!--
            <div class="row nm" v-else>
                <div class="col s4 cell" style="background-color: #009688;">
                    <div class="row nm" v-for="(batter, index) in cricData.batters" :key="index" :class="{'nm': index}">
                        <div class="col s7 txtoverflow">{{batter.name}}</div>
                        <div class="col s5 right-align" style="white-space: nowrap;">{{batter.score}}</div>
                    </div>

                </div>
                <div class="col s4 cell" style="background-color: #4072c3;">
                    <div class="row nm">
                        <div class="col txtoverflow" :class="{'s5': cricData.isSecondInning, 's12 center-align': !cricData.isSecondInning}">{{ cricData.isSecondInning ?  cricData.team2Name :  cricData.team1Name }}</div>
                        <div class="col s7 txtoverflow right-align" v-if="cricData.isSecondInning">{{ cricData.matchEndedStr }}</div>
                    </div>
                    <div class="row nm" v-if="cricData.score">
                        <div class="col s4" style="white-space: nowrap;">{{cricData.score}} ({{cricData.overNum}} overs)</div>
                        <div class="col s8 right-align">
                            CRR: {{cricData.crr}} <span v-if="cricData.isSecondInning">| RRR: {{cricData.reqrr}}</span>
                        </div>
                    </div>
                </div>
                <div class="col s4 cell" style="background-color: #ff5722;">
                    <div class="row nm" v-for="(bowler, index) in cricData.bowlers" :key="index">
                        <div class="col s7 txtoverflow">{{bowler.name}}</div>
                        <div class="col s5 right-align" style="white-space: nowrap;">{{bowler.score}}</div>
                    </div>
                    <div class="row nm">
                        <div class="col s12 right-align">
                            <span v-for="(ball, index) in cricData.recentBalls" :key="index" class="ball">
                                <div v-html="ball"></div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            -->

            <div class="center-align" v-if="cricData && cricData.recentBalls && cricData.recentBalls.length">
                <div class="box" style="color: #009688;" v-if="cricData.recentBalls[cricData.recentBalls.length-1].replace(/(<([^>]+)>)/ig, '') == '6'">6</div>
                <div class="box" style="color: #009688;" v-if="cricData.recentBalls[cricData.recentBalls.length-1].replace(/(<([^>]+)>)/ig, '') == '4'">4</div>
                <div class="box" style="color: red;" v-if="cricData.recentBalls[cricData.recentBalls.length-1].replace(/(<([^>]+)>)/ig, '') == 'W'">W</div>
            </div>
        </div>
        <script>
            var app = new Vue({
                el: "#app",
                data: {
                    cricData: {},
                    interval: null,
                },
                created() {
                    this.interval = setInterval(this.getData, 30000);
                    this.getData();
                },
                methods: {
                    getData() {
                        const searchParams = new URLSearchParams(window.location.search);
                        var self = this;

                        fetch("/scrape?u=" + encodeURIComponent(searchParams.get("u")))
                            .then(function(response) {
                                response.json().then(function(data) {
                                    if (data.team1Name) {
                                        self.cricData = data
                                        if (data.matchEnded && self.interval) {
                                            clearInterval(self.interval);
                                        }
                                    }
                                });
                            })
                    }
                },
            });
        </script>
    </body>
</html>